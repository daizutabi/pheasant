<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="daizutabi">
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Script - Pheasant</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700" type="text/css"/>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab:400,700" type="text/css"/>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata:400,700" type="text/css"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/tonsky/FiraCode@1.206/distr/fira_code.css" type="text/css"/>
  <link rel="stylesheet" href="../../css/theme.css" type="text/css"/>
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css"/>
  <link rel="stylesheet" href="../../css/theme_pheasant.css" type="text/css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/github.min.css" type="text/css"/>
  
  <script>
    // Current page data
    var mkdocs_page_name = "Script";
    var mkdocs_page_input_path = "user-guide\\script.py";
    var mkdocs_page_url = "/user-guide/script/";
  </script>
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/yaml.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/python.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
</head>

<body class="wy-body-for-nav">
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home">Pheasant</a>
	      
      </div>
      <div class="wy-menu wy-menu-vertical" data-spy="affix" aria-label="main navigation"><ul class="current">
          <li class="toctree-l1">
		        
    <a class="" href="../..">Home</a>
	        </li>
          <li class="toctree-l1">
		        
    <span class="caption-text">User Guide</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../images/">Images</a>
                </li>
                <li class="">
                    
    <a class="" href="../code/">Code</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">Script</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#4-standalone-script">4. Standalone Script</a>
    
        <ul>
        
            <li><a class="toctree-l4" href="#41-how-to">4.1. How to</a></li>
        
            <li><a class="toctree-l4" href="#42-internal-mechanism">4.2. Internal mechanism</a></li>
        
            <li><a class="toctree-l4" href="#43-fenced-code-block">4.3. Fenced code block</a></li>
        
            <li><a class="toctree-l4" href="#44-comment-writing">4.4. Comment writing</a></li>
        
        </ul>
    
    </li>

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../macro/">Macro</a>
                </li>
    </ul>
	        </li>
          <li class="toctree-l1">
		        
    <span class="caption-text">About</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../about/release-notes/">Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../about/license/">License</a>
                </li>
    </ul>
	        </li>
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Pheasant</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>User Guide &raquo;</li>
        
      
    
    <li>Script</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="4-standalone-script"><span class="pheasant-header-number">4.</span> <span class="pheasant-header-title">Standalone Script</span></h1>
<p>Using Atom's <a href="https://nteract.gitbooks.io/hydrogen/">Hydorgen</a> package, you can execute any Python script codes in a Markdown source. So you can edit your Markdown verifying its execution and outputs. But unfortunately (as long as I know), the entire Markdown source cannot be executed all at once as a standalone script and cannot be ran by Python interpreter. Pheasant connects between a pure Python script and a Markdown source for MkDocs. Actually, this page is written by a pure Python code.</p>
<h2 id="41-how-to"><span class="pheasant-header-number">4.1.</span> <span class="pheasant-header-title">How to</span></h2>
<p>A basic idea is that Markdown cells and code cells generally appear alternately. We can write a Markdown cell with a successive comment lines. In order to be recognized as a Markdown cell, <code>#</code> must be at the begining of lines. But we can insert a blank line in a Markdown cell without <code>#</code> to make a paragraph.</p>
<p>Python code block is treated as a code cell as you expect. If a comment is not at the begining of line, a code cell can contain comments.</p>
<div class="pheasant-fenced-code pheasant-input">
<pre><code class="python">def add(x: int, y: int) -&gt; int:
    &quot;&quot;&quot;Add `x` and `y`.&quot;&quot;&quot;
    return x + y  # a comment in a code cell.

def sub(x: int, y: int) -&gt; int:
    &quot;&quot;&quot;Substract `y` from `x`.&quot;&quot;&quot;
    return x - y  # a comment in a code cell.
</code></pre></div>

<p>When a comment starts at the begining of a line after a code block, it divides the source into a code cell and a Markdown cell. This Markdown cell will continue until next Python code appears.</p>
<p>Despite of a Markdown cell, you may want to devide successive codes into separate cells. This can be done by putting a special marker between codes to tell Pheasant your intention. The marker is <code># -</code> [sharp-space-minus] at the begining of lines. In this way you can divide the above two functions into separate cells (regardless of its usefullness.)</p>
<div class="pheasant-fenced-code pheasant-input">
<pre><code class="python">def add2(x: int, y: int) -&gt; int:
    &quot;&quot;&quot;Add `x` and `y`.&quot;&quot;&quot;
    return x + y  # a comment in a code cell.
</code></pre></div>

<div class="pheasant-fenced-code pheasant-input">
<pre><code class="python">def sub2(x: int, y: int) -&gt; int:
    &quot;&quot;&quot;Substract `y` from `x`.&quot;&quot;&quot;
    return x - y  # a comment in a code cell.
</code></pre></div>

<h2 id="42-internal-mechanism"><span class="pheasant-header-number">4.2.</span> <span class="pheasant-header-title">Internal mechanism</span></h2>
<p>By defaults, MkDocs processes Markdown files only for pages. This setting is defined in the MkDocs's utility library: <code>mkdocs.utils.markdown_extensions</code>. Pheasant plugin updates this setting in the Plugin's <code>on_config</code> event function:</p>
<div class="pheasant-fenced-code pheasant-input">
<pre><code class="python">from mkdocs.config import config_options  # This import required for BasePlugin
from mkdocs.plugins import BasePlugin

class PheasantPlugin(BasePlugin):
    def on_config(self, config):
        from mkdocs.utils import markdown_extensions

        markdown_extensions.append(&quot;.py&quot;)
</code></pre></div>

<p>By this setting, MkDocs reads a ".py" file as a Markdown source. Then, Pheasant will convert it into a real Markdown format in order to be processed by other converters later.</p>
<h2 id="43-fenced-code-block"><span class="pheasant-header-number">4.3.</span> <span class="pheasant-header-title">Fenced code block</span></h2>
<p>You can write a fenced code block in commented-Markdown source.</p>
<div class="pheasant-fenced-code pheasant-source">
<pre><code class="python"># <sapn><span class="pheasant-backquote">```</span></span>python
# print(1)
# <span><span class="pheasant-backquote">```</span></sanp></code></pre></div>

<p>becomes:</p>
<div class="pheasant-fenced-code pheasant-input">
<pre><code class="python">print(1)
</code></pre></div>

<div class="pheasant-fenced-code pheasant-output">
<pre><code class="python">1
</code></pre></div>

<p>And,</p>
<div class="pheasant-fenced-code pheasant-source">
<pre><code class="python"># <span>~~~</span>
# <sapn><span class="pheasant-backquote">```</span></span>python
# print(1)
# <span><span class="pheasant-backquote">```</span></sanp>
# <span>~~~</span></code></pre></div>

<p>becomes:</p>
<div class="pheasant-fenced-code pheasant-source">
<pre><code class="markdown"><span class="pheasant-backquote">```</span>python
print(1)
<span class="pheasant-backquote">```</span></code></pre></div>

<h2 id="44-comment-writing"><span class="pheasant-header-number">4.4.</span> <span class="pheasant-header-title">Comment writing</span></h2>
<p>In this scheme, we have to write many comments for Markdown cells. But a linter such as pycodestyle doesn't allow us to write a very long comment in one line longer than (for example) 79 characters. This means that we have to write 'Markdown source' with several 'New Line' characters even we are writing 'one' paragraph. In order to overcome this incovenient situation, a comment wrapping pakage <a href="https://github.com/daizutabi/pyls-cwrap"><code>pyls-cwrap</code></a> was prepared. You can install this package as <code>pip install pyls-cwrap</code>. In Atom, if you use <a href="https://atom.io/packages/ide-python"><code>ide-python</code></a>, just press [Ctrl]+[Shift]+[C] (Windows, default setting), sequential comments are automatically formatted.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../macro/" class="btn btn-neutral float-right" title="Macro">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../code/" class="btn btn-neutral" title="Code"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/daizutabi/pheasant/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../code/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../macro/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>

</body>
</html>
